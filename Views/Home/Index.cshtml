<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Image Gen Sample</title>
    <script type="module" src="./src/main.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@@popperjs/core@2.11.6/dist/umd/popper.min.js"
            integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
            integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
            crossorigin="anonymous"></script>
    <link rel="icon" type="image/x-icon" href="./nano-babana.png">
</head>

<style>
    .drop-zone {
        cursor: pointer;
        transition: background-color 0.2s, border-color 0.2s;
    }

    .drop-zone:hover {
        background-color: #f8f9fa;
        border-color: #0d6efd;
    }

    #loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(255, 255, 255, 0.8); /* semi-transparent white */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999; /* make sure it's on top */
    }

        #loading-overlay .spinner-border {
            width: 6rem; /* larger size */
            height: 6rem; /* larger size */
            border-width: 0.8rem; /* thicker border */
        }

        #loading-overlay.d-none {
            display: none;
        }
</style>

<body>
    <div class="alert alert-warning text-center m-3" role="alert">
        ⚠️ Warning: Your uploaded images and prompt text are being logged for processing.
    </div>
    <div class="d-flex">
        <div class="card p-3 m-3 col-5 bg-light">
            <div class="card-body">
                <h5 class="card-title mb-3">KITS Image</h5>
                <div class="position-relative drop-zone border rounded d-flex justify-content-center align-items-center bg-white"
                     id="drop-zone" style="min-height:100px;">
                    <p class="text-center mb-0 position-absolute w-100 h-100 d-flex justify-content-center align-items-center"
                       style="z-index:1">Drop an image here</p>
                    <img id="kits-image" class="img-fluid" style="max-height: 512px; z-index:2;">
                </div>
                <h5 class="card-title mt-3">Prompt</h5>
                <div class="form-floating">
                    <textarea class="form-control" id="prompt-textarea" style="height: 100px;"></textarea>
                    <label for="prompt-textarea">Your prompt</label>
                </div>
                <div class="mt-3 text-end">
                    <button type="button" id="generate-btn" class="btn btn-primary">Generate</button>
                </div>
                <div class="mt-3 text-end">
                </div>
            </div>
        </div>
        <div class="card p-3 m-3 col-5 bg-light">
            <div class="card-body">
                <h5 class="card-title mb-3">Result Image</h5>
                <div class="d-flex justify-content-center align-items-center border rounded-3 bg-light-subtle p-4"
                     style="min-height: 512px;">
                    <img id="result-image" class="img-fluid" style="max-height: 512px;">
                </div>
            </div>
        </div>
    </div>
    
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="d-none">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
</body>

</html>